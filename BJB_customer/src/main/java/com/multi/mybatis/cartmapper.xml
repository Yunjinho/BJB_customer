<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.multi.mapper.CartMapper">
	
	<select id="select" parameterType="Integer" resultType="CartDTO">
		SELECT ca.carid,ca.custid,it.name as item_name,it.price as item_price,it.imgname as item_imgname,ca.cnt,ca.date FROM cart ca INNER JOIN item it ON ca.itemid=it.id  WHERE ca.carid=#{id}
	</select>
	<select id="selectAll" resultType="CartDTO">
	</select>
	<insert id="insert" parameterType="CartDTO">
		<!-- INSERT INTO cart VALUES (NULL,#{cust_id},#{item_id},#{cnt},NOW()) -->
	</insert>
	<update id="update" parameterType="CartDTO">
		<!-- UPDATE cart SET item_id=#{item_id},cnt=#{cnt} WHERE id=#{id} -->
	</update>
	<delete id="delete" parameterType="Integer">
		DELETE FROM cart WHERE id=#{id}
	</delete>	
	
	<select id="cartall" parameterType="String" resultType="CartDTO">
	<!-- 	SELECT ca.id, ca.cust_id, cu.name AS cust_name, i.id as item_id ,i.imgname as item_imgname,i.name AS item_name, i.price as item_price, ca.cnt, ca.rdate FROM cart ca 
		INNER JOIN item i ON ca.item_id = i.id 
		INNER JOIN cust cu ON ca.cust_id = cu.id 
		WHERE ca.cust_id = #{cust_id} -->
	</select>
</mapper>
